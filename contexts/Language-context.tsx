import React, { createContext, useState, useContext, ReactNode, useEffect } from 'react';

// --- TRANSLATION DATA ---
// In a production environment, this data would be loaded from external JSON files.
// Due to the current project setup, they are hardcoded here to ensure the app is fully functional.

const enTranslations: Record<string, string> = {
  // General & Header
  appTitle: "Alfanumrik",
  appSubtitle: "Unlock Your Brilliance",
  home: "Home",
  logoutButton: "Logout",
  back: "Back",
  backToHome: "Back to Home",
  errorOccurred: "An Error Occurred",
  unknownError: "An unknown error occurred. Please try again.",
  skill: "Skill",
  concept: "Concept",
  explanation: "Explanation",
  
  // Role Selector
  welcomeToPlatformModern: "Welcome to Alfanumrik - Your Learning Journey Starts Here!",
  selectRolePromptModern: "Choose your role to get started with a personalized experience.",
  roleStudent: "Student",
  roleTeacher: "Teacher",
  roleParent: "Parent",
  roleStudentDescModern: "Ready to ace your CBSE exams? Let's make learning fun!",
  roleTeacherDescModern: "Empower your classroom with AI-powered teaching tools.",
  roleParentDescModern: "Track your child's academic progress and support their growth.",
  selectRoleButton: "Select Role",
  viewPrivacyPolicy: "View our Privacy Policy",

  // Login/Signup
  backToRoles: "Back to Role Selection",
  welcomeBackLearner: "Welcome Back, Learner!",
  joinTheAdventure: "Join the Adventure!",
  loginPrompt: "Log in to continue your learning journey.",
  signupPrompt: "Create an account to begin your personalized path.",
  studentNameLabel: "Student's Name",
  studentNamePlaceholder: "e.g., Ananya Sharma",
  gradeLabel: "Grade",
  selectGradePlaceholder: "Select your grade",
  loginButton: "Login",
  createAccountButton: "Create Account",
  signupInstead: "Don't have an account? Sign up",
  loginInstead: "Already have an account? Login",

  // Student Dashboard
  welcomeBack: "Welcome back, {{name}}!",
  dashboardSubtitle: "Let's pick up where you left off and learn something new today.",
  todaysMission: "Today's Mission",
  launchMission: "Launch Mission",
  exploreAllTopics: "Explore All Topics & Concepts",
  fittoRecommendations: "A Tip from Fitto",
  recentActivity: "Recent Activity",
  iqChallengeCompleted: "IQ Challenge Completed",
  eqChallengeCompleted: "EQ Challenge Completed",
  academicChapter: "{{chapter}} in {{subject}}",
  badgeMastery: "Mastery",
  badgeProficient: "Proficient",
  badgeImproving: "Improving",
  easy: "Easy",
  medium: "Medium",
  hard: "Hard",
  rec_welcome: "Ready to learn something new? Launch today's mission to find your personalized next step!",
  rec_general_tip: "Consistent practice is key! Try to complete at least one short exercise every day.",
  rec_strength: "Wow, you're a natural at {{subject}}! Acing '{{context}}' with {{score}}% is amazing work. Keep it up!",
  rec_weakness: "Every expert was once a beginner! Let's build up your skills in {{subject}} by taking another look at '{{context}}'. You've got this!",
  learningStreakText: "{{count}}-Day Learning Streak!",

  // Grade & Subject Selectors
  backToDashboard: "Back to Dashboard",
  welcomeLearner: "Welcome, Learner!",
  selectGradePrompt: "Let's get started. Which grade are you in?",
  backToGrades: "Back to Grades",
  chooseSubject: "Choose a Subject",
  subjects: "Subjects",
  chaptersIn: "Chapters in",
  notSureStart: "Not sure where to start?",
  findMyLevel: "Find My Level with a Quick Test",
  selectSubjectPrompt: "Select a subject to see the chapters.",
  
  // Chapter View & Concepts
  loadingFromCache: "Loading lesson from cache...",
  aiGeneratingLesson: "Our AI is crafting your personalized lesson...",
  loadingFromCacheSubtext: "This is faster because you've accessed it before.",
  diagramFailedError: "The AI artist had trouble. Please try again later.",
  diagramQuotaError: "Our AI artist has reached its daily drawing limit! A visual will be available again tomorrow.",
  chapterComplete: "Chapter Complete!",
  quizScoreSummary: "Your Score: {{score}} out of {{total}}",
  generatingRecommendation: "Generating your next steps...",
  nextSteps: "Your Next Steps",
  startNextChapter: "Start: {{chapter}}",
  revisePrerequisite: "Revise Prerequisite: {{chapter}}",
  reviewThisLesson: "Review This Lesson",
  recommendationFailed: "Could not generate a recommendation at this time.",
  noContent: "No content available for this chapter yet.",
  backToChapters: "Back to Chapters",
  loadedFromCache: "Loaded from your device for offline access.",
  keyConcepts: "Key Concepts",
  readyToTestKnowledge: "Ready to test your knowledge?",
  quizPrompt: "Take a short, adaptive quiz to see how well you've understood these concepts.",
  generatingQuiz: "Generating Quiz...",
  challengeMe: "Challenge Me!",
  allConceptsMastered: "Great work! You've practiced all concepts.",
  definition: "Definition",
  usage: "Usage",
  etymology: "Etymology (Word Origin)",
  proof: "Proof",
  derivation: "Derivation",
  materials: "Materials",
  steps: "Steps",
  safetyGuidelines: "Safety Guidelines",
  analysis: "Analysis",
  background: "Background",
  conclusion: "Conclusion",
  mistake: "Common Mistake",
  correction: "Correction",
  conceptual: "Conceptual",
  application: "Application",
  higherOrderThinking: "Higher-Order Thinking",
  viewSolution: "View Solution",
  noProblemsAvailable: "No problems available for this category yet.",
  prerequisitesCheck: "Prerequisites Check",
  learningObjectives: "Learning Objectives",
  keyTheoremsAndProofs: "Key Theorems & Proofs",
  formulaDerivations: "Formula Derivations",
  formulaSheet: "Formula Sheet",
  problemSolvingTemplates: "Problem Solving Templates",
  categorizedProblems: "Practice Problems",
  commonMistakes: "Common Mistakes",
  keyLawsAndPrinciples: "Key Laws & Principles",
  solvedNumericalProblems: "Solved Numerical Problems",
  experiments: "Experiments & Activities",
  scientificMethodApplications: "Scientific Method Applications",
  currentDiscoveries: "Current Discoveries",
  environmentalAwareness: "Environmental Awareness",
  interdisciplinaryConnections: "Interdisciplinary Connections",
  timelineOfEvents: "Timeline of Events",
  keyFigures: "Key Figures",
  primarySourceAnalysis: "Primary Source Analysis",
  inDepthCaseStudies: "In-Depth Case Studies",
  grammarSpotlight: "Grammar Spotlight",
  literaryDeviceAnalysis: "Literary Device Analysis",
  vocabularyDeepDive: "Vocabulary Deep Dive",
  selfAssessmentChecklist: "Self-Assessment Checklist",
  extensionActivities: "Extension Activities",
  remedialActivities: "Remedial Activities",
  careerConnections: "Career Connections",
  technologyIntegration: "Technology Integration",
  summary: "Summary",

  // Concept Card
  mastered: "Mastered",
  inProgress: "In Progress",
  notStarted: "Not Started",
  fittoWelcome: "Hi! I'm Fitto. Ask me anything about '{{concept}}'.",
  askQuestionPlaceholder: "Ask a question about this concept...",
  submitQuestion: "Submit question",
  markAsUnderstood: "I understand this, move to practice",
  stemConnection: "Real-World Connection (STEM)",
  visualDiagram: "Visual Diagram",
  visualContext: "Visual Context",
  aiDrawingDiagram: "AI is drawing a diagram for you...",
  practiceThisConcept: "Practice this Concept",
  askFitto: "Ask Fitto, Your AI Mentor",
  
  // Quiz & Exercises
  backToLesson: "Back to Lesson",
  adaptiveQuiz: "Adaptive Quiz",
  question: "Question",
  testingConcept: "Testing Concept",
  previous: "Previous",
  next: "Next",
  finishQuiz: "Finish Quiz",
  quizResults: "Quiz Results",
  chapter: "Chapter",
  reviewAnswers: "Review Your Answers",
  yourAnswer: "Your Answer",
  notAnswered: "Not Answered",
  correctAnswerLabel: "Correct Answer",
  exerciseSummary: "Practice Complete!",
  yourScore: "Your score",
  close: "Close",
  generatingExercises: "Generating...",
  generateExercises: "Generate Practice Questions",
  correct: "Correct!",
  incorrect: "Not quite!",
  finishPractice: "Finish",
  nextQuestion: "Next Question",
  missionComplete: "Mission Complete!",
  greatWork: "Great work! Keep it up.",

  // Diagnostic Test
  preparingDiagnosticTest: "Preparing your diagnostic test...",
  testGenerationError: "Could not generate the test.",
  couldNotCreateTest: "Could Not Create Test",
  backToSubjects: "Back to Subjects",
  testComplete: "Test Complete!",
  youScored: "You scored {{score}} out of {{total}}.",
  ourRecommendation: "Our Recommendation",
  diagnosticResultHigh: "You have a strong foundation in {{subject}}! We suggest starting around the chapter '{{chapter}}' to challenge yourself.",
  diagnosticResultMid: "You've got a good handle on the basics! Starting with the first chapter, '{{chapter}}', is a great way to solidify your knowledge.",
  diagnosticResultLow: "No problem at all! The best place to start is right at the beginning with '{{chapter}}' to build a super strong foundation.",
  diagnosticTestFor: "Diagnostic Test For",
  
  // Teacher/Parent Dashboards
  backToRoleSelection: "Back to Role Selection",
  teacherDashboard: "Teacher Dashboard",
  teacherDashboardPrompt: "View student progress and access teaching tools.",
  parentDashboard: "Parent Dashboard",
  parentDashboardPrompt: "Here's an overview of your child's learning journey.",
  accessQuestionBank: "Question Bank",
  curriculumGenerator: "Curriculum Generator",
  performance: "Performance",
  studyPatterns: "Study Patterns",
  studentQuestions: "Student Questions",
  aiReports: "AI Reports",
  practiceOn: "Practice on {{context}}",
  quizType: "Quiz",
  noPerformanceData: "No performance data recorded yet.",
  weeklyActivity: "Weekly Activity",
  performanceBySubject: "Performance by Subject",
  learningStyle: "Learning Style",
  quizzesTaken: "Quizzes Taken",
  practiceSessions: "Practice Sessions",
  lessActivity: "Less",
  moreActivity: "More",
  errorFetchingQuestions: "Error fetching student questions.",
  fittoResponseTitle: "Fitto's Response",
  modelAnswer: "AI-Suggested Model Answer",
  pedagogicalNotes: "Pedagogical Notes for Teacher",
  analyzing: "Analyzing",
  getAIAnswerSuggestion: "Get AI Analysis",
  noQuestionsSubmitted: "This student has not submitted any questions yet.",
  generatingReport: "Generating Report...",
  generateAnalysisReport: "Generate AI Analysis Report",
  assigningSheet: "Generating sheet...",
  assignPracticeSheet: "Assign AI-Generated Practice Sheet",
  noPerformanceDataError: "No performance data available to identify a weak area.",
  aiGeneratedReport: "AI-Generated Report",
  loadedFromDB: "Loaded from Database",
  feedbackOnReport: "Was this report helpful?",
  helpUsImprove: "Your feedback helps us improve the AI.",
  commentOptional: "Optional comment...",
  submitFeedback: "Submit Feedback",
  feedbackThanks: "Thank you for your feedback!",
  practiceSheet: "Personalized Practice Sheet",
  
  // Personalized Path
  craftingYourPath: "Crafting your personalized mission...",
  aiReasoning: "AI Reasoning:",
  errorCraftingPathTitle: "Error Crafting Your Path",
  errorCraftingPathBody: "We encountered an issue while generating your next mission. Please try again.",
  retryButton: "Retry",
  yourNextMission: "Your Next Mission",
  missionType_ACADEMIC_REVIEW: "Academic Review",
  missionType_ACADEMIC_PRACTICE: "Academic Practice",
  missionType_ACADEMIC_NEW: "New Academic Topic",
  missionType_IQ_EXERCISE: "IQ Challenge",
  missionType_EQ_EXERCISE: "EQ Challenge",
  todaysTask: "Today's Task",
  academicQuestion: "Academic Question",
  iqChallenge: "IQ Challenge",
  eqChallenge: "EQ Challenge",
  bestResponse: "Best Response",
  
  // Privacy Policy
  privacyPolicyTitle: "Privacy Policy",
  privacyIntro: "Your privacy is important to us. This policy explains what information we collect and how we use it to provide a better learning experience.",
  whatInfoWeCollectTitle: "1. What Information We Collect",
  whatInfoWeCollectContent: "We collect information you provide, such as your name, grade, and email. We also collect performance data like quiz scores and progress to personalize your learning.",
  howWeUseInfoTitle: "2. How We Use Your Information",
  howWeUseInfoContent: "Your information is used to power our adaptive learning engine, provide personalized feedback, and for teachers/parents to track progress. We do not sell your data.",
  infoSafetyTitle: "3. Information Safety",
  infoSafetyContent: "We use industry-standard security measures to protect your information from unauthorized access.",
  yourChoicesTitle: "4. Your Choices",
  yourChoicesContent: "You can review and update your account information at any time. You can also request account deletion by contacting us.",
  changesToPolicyTitle: "5. Changes to This Policy",
  changesToPolicyContent: "We may update this policy from time to time. We will notify you of any significant changes.",
  contactUsTitle: "6. Contact Us",
  contactUsContent: "If you have any questions about this policy, please contact us at privacy@alfanumrik.com.",

  // Question Bank
  mcq: "MCQ",
  shortanswer: "Short Answer",
  longanswer: "Long Answer",
  remembering: "Remembering",
  understanding: "Understanding",
  applying: "Applying",
  analyzing: "Analyzing",
  evaluating: "Evaluating",
  creating: "Creating",
  competencyBased: "Competency-Based",
  previousYearQuestion: "Previous Year Question",
  questionBankTitle: "AI-Powered Question Bank",
  questionBankPrompt: "Generate a diverse set of questions for any chapter, aligned with CBSE standards and Bloom's Taxonomy.",
  generatingQuestions: "Generating Questions...",
  generateQuestions: "Generate Questions",
  noQuestionsGenerated: "The AI did not generate any questions for this topic. Please try again or refine your selection.",
  markingScheme: "Marking Scheme",
  selectChapterPlaceholder: "Select a Chapter",

  // Curriculum Generator
  curriculumGeneratorPrompt: "Generate a comprehensive, NEP-aligned curriculum outline for any subject and grade, and export it as an SQL script.",
  generatingOutline: "Generating Outline...",
  generateOutline: "Generate Curriculum Outline",
  downloadAsSql: "Download as SQL",
  validateCurriculum: "Validate with AI",
  validatingCurriculum: "Validating curriculum...",
  noOutlineGenerated: "The AI could not generate a curriculum outline for this topic.",
  validationError: "An error occurred during validation.",
  qualityReportTitle: "AI Curriculum Quality Report",
};

const hiTranslations: Record<string, string> = {
  // General & Header
  appTitle: "अल्फ़ान्यूमरिक",
  appSubtitle: "अपनी प्रतिभा को अनलॉक करें",
  home: "होम",
  logoutButton: "लॉग आउट",
  back: "वापस",
  backToHome: "होम पर वापस जाएं",
  errorOccurred: "एक त्रुटि हुई",
  unknownError: "एक अज्ञात त्रुटि हुई। कृपया पुन: प्रयास करें।",
  skill: "कौशल",
  concept: "अवधारणा",
  explanation: "व्याख्या",

  // Role Selector
  welcomeToPlatformModern: "अल्फ़ान्यूमरिक में आपका स्वागत है - आपकी सीखने की यात्रा यहाँ से शुरू होती है!",
  selectRolePromptModern: "एक व्यक्तिगत अनुभव के साथ आरंभ करने के लिए अपनी भूमिका चुनें।",
  roleStudent: "छात्र",
  roleTeacher: "शिक्षक",
  roleParent: "अभिभावक",
  roleStudentDescModern: "क्या आप अपनी CBSE परीक्षाओं में उत्कृष्टता प्राप्त करने के लिए तैयार हैं? आइए सीखने को मजेदार बनाएं!",
  roleTeacherDescModern: "AI-संचालित शिक्षण उपकरणों के साथ अपनी कक्षा को सशक्त बनाएं।",
  roleParentDescModern: "अपने बच्चे की शैक्षणिक प्रगति को ट्रैक करें और उनके विकास में सहायता करें।",
  selectRoleButton: "भूमिका चुनें",
  viewPrivacyPolicy: "हमारी गोपनीयता नीति देखें",

  // Login/Signup
  backToRoles: "भूमिका चयन पर वापस जाएं",
  welcomeBackLearner: "वापसी पर स्वागत है, शिक्षार्थी!",
  joinTheAdventure: "इस साहसिक कार्य में शामिल हों!",
  loginPrompt: "अपनी सीखने की यात्रा जारी रखने के लिए लॉग इन करें।",
  signupPrompt: "अपना व्यक्तिगत मार्ग शुरू करने के लिए एक खाता बनाएं।",
  studentNameLabel: "छात्र का नाम",
  studentNamePlaceholder: "उदा., अनन्या शर्मा",
  gradeLabel: "कक्षा",
  selectGradePlaceholder: "अपनी कक्षा चुनें",
  loginButton: "लॉग इन करें",
  createAccountButton: "खाता बनाएं",
  signupInstead: "खाता नहीं है? साइन अप करें",
  loginInstead: "पहले से ही एक खाता है? लॉग इन करें",

  // Student Dashboard
  welcomeBack: "वापस स्वागत है, {{name}}!",
  dashboardSubtitle: "आइए वहीं से शुरू करें जहां आपने छोड़ा था और आज कुछ नया सीखें।",
  todaysMission: "आज का मिशन",
  launchMission: "मिशन लॉन्च करें",
  exploreAllTopics: "सभी विषय और अवधारणाएं देखें",
  fittoRecommendations: "फिट्टो की ओर से एक टिप",
  recentActivity: "हाल की गतिविधि",
  iqChallengeCompleted: "IQ चुनौती पूरी हुई",
  eqChallengeCompleted: "EQ चुनौती पूरी हुई",
  academicChapter: "{{subject}} में {{chapter}}",
  badgeMastery: "महारत",
  badgeProficient: "कुशल",
  badgeImproving: "सुधार हो रहा है",
  easy: "आसान",
  medium: "मध्यम",
  hard: "कठिन",
  rec_welcome: "कुछ नया सीखने के लिए तैयार हैं? अपना व्यक्तिगत अगला कदम खोजने के लिए आज का मिशन लॉन्च करें!",
  rec_general_tip: "निरंतर अभ्यास ही कुंजी है! हर दिन कम से कम एक छोटा व्यायाम पूरा करने का प्रयास करें।",
  rec_strength: "वाह, आप {{subject}} में माहिर हैं! '{{context}}' में {{score}}% अंक लाना अद्भुत काम है। इसे जारी रखें!",
  rec_weakness: "हर विशेषज्ञ कभी नौसिखिया था! आइए '{{context}}' पर एक और नज़र डालकर {{subject}} में अपने कौशल का निर्माण करें। आप यह कर सकते हैं!",
  learningStreakText: "{{count}}-दिन की सीखने की स्ट्रीक!",

  // Grade & Subject Selectors
  backToDashboard: "डैशबोर्ड पर वापस जाएं",
  welcomeLearner: "स्वागत है, शिक्षार्थी!",
  selectGradePrompt: "चलिए शुरू करते हैं। आप किस कक्षा में हैं?",
  backToGrades: "कक्षाओं पर वापस जाएं",
  chooseSubject: "एक विषय चुनें",
  subjects: "विषय",
  chaptersIn: "अध्याय",
  notSureStart: "सुनिश्चित नहीं हैं कि कहाँ से शुरू करें?",
  findMyLevel: "एक त्वरित परीक्षण के साथ मेरा स्तर जानें",
  selectSubjectPrompt: "अध्याय देखने के लिए एक विषय चुनें।",
  
  // Chapter View & Concepts
  loadingFromCache: "कैश से पाठ लोड हो रहा है...",
  aiGeneratingLesson: "हमारा AI आपके लिए व्यक्तिगत पाठ तैयार कर रहा है...",
  loadingFromCacheSubtext: "यह तेज़ है क्योंकि आपने इसे पहले एक्सेस किया है।",
  diagramFailedError: "AI कलाकार को समस्या हुई। कृपया बाद में पुनः प्रयास करें।",
  diagramQuotaError: "हमारे AI कलाकार ने अपनी दैनिक चित्रकला सीमा पूरी कर ली है! एक दृश्य कल फिर से उपलब्ध होगा।",
  chapterComplete: "अध्याय पूरा हुआ!",
  quizScoreSummary: "आपका स्कोर: {{total}} में से {{score}}",
  generatingRecommendation: "आपके अगले कदम तैयार किए जा रहे हैं...",
  nextSteps: "आपके अगले कदम",
  startNextChapter: "शुरू करें: {{chapter}}",
  revisePrerequisite: "पुनरीक्षण करें: {{chapter}}",
  reviewThisLesson: "इस पाठ की समीक्षा करें",
  recommendationFailed: "इस समय एक सिफारिश उत्पन्न नहीं की जा सकी।",
  noContent: "इस अध्याय के लिए अभी कोई सामग्री उपलब्ध नहीं है।",
  backToChapters: "अध्यायों पर वापस जाएं",
  loadedFromCache: "ऑफ़लाइन पहुंच के लिए आपके डिवाइस से लोड किया गया।",
  keyConcepts: "मुख्य अवधारणाएं",
  readyToTestKnowledge: "क्या आप अपने ज्ञान का परीक्षण करने के लिए तैयार हैं?",
  quizPrompt: "यह देखने के लिए एक छोटी, अनुकूली प्रश्नोत्तरी लें कि आपने इन अवधारणाओं को कितनी अच्छी तरह समझा है।",
  generatingQuiz: "प्रश्नोत्तरी तैयार हो रही है...",
  challengeMe: "मुझे चुनौती दें!",
  allConceptsMastered: "बहुत बढ़िया! आपने सभी अवधारणाओं का अभ्यास कर लिया है।",
  definition: "परिभाषा",
  usage: "उपयोग",
  etymology: "व्युत्पत्ति (शब्द की उत्पत्ति)",
  proof: "सबूत",
  derivation: "व्युत्पत्ति",
  materials: "सामग्री",
  steps: "कदम",
  safetyGuidelines: "सुरक्षा दिशानिर्देश",
  analysis: "विश्लेषण",
  background: "पृष्ठभूमि",
  conclusion: "निष्कर्ष",
  mistake: "आम गलती",
  correction: "सुधार",
  conceptual: "वैचारिक",
  application: "अनुप्रयोग",
  higherOrderThinking: "उच्च-स्तरीय सोच",
  viewSolution: "समाधान देखें",
  noProblemsAvailable: "इस श्रेणी के लिए अभी कोई समस्या उपलब्ध नहीं है।",
  prerequisitesCheck: "पूर्वापेक्षाएँ जाँचें",
  learningObjectives: "सीखने के उद्देश्य",
  keyTheoremsAndProofs: "मुख्य प्रमेय और प्रमाण",
  formulaDerivations: "सूत्र व्युत्पत्ति",
  formulaSheet: "सूत्र पत्र",
  problemSolvingTemplates: "समस्या-समाधान टेम्पलेट्स",
  categorizedProblems: "अभ्यास प्रश्न",
  commonMistakes: "आम गलतियाँ",
  keyLawsAndPrinciples: "मुख्य कानून और सिद्धांत",
  solvedNumericalProblems: "हल किए गए संख्यात्मक प्रश्न",
  experiments: "प्रयोग और गतिविधियाँ",
  scientificMethodApplications: "वैज्ञानिक विधि के अनुप्रयोग",
  currentDiscoveries: "वर्तमान खोजें",
  environmentalAwareness: "पर्यावरण जागरूकता",
  interdisciplinaryConnections: "अंतःविषय संबंध",
  timelineOfEvents: "घटनाओं की समयरेखा",
  keyFigures: "प्रमुख व्यक्ति",
  primarySourceAnalysis: "प्राथमिक स्रोत विश्लेषण",
  inDepthCaseStudies: "गहन केस स्टडीज",
  grammarSpotlight: "व्याकरण स्पॉटलाइट",
  literaryDeviceAnalysis: "साहित्यिक उपकरण विश्लेषण",
  vocabularyDeepDive: "शब्दावली गहन गोता",
  selfAssessmentChecklist: "स्व-मूल्यांकन चेकलिस्ट",
  extensionActivities: "विस्तार गतिविधियाँ",
  remedialActivities: "उपचारात्मक गतिविधियाँ",
  careerConnections: "कैरियर कनेक्शन",
  technologyIntegration: "प्रौद्योगिकी एकीकरण",
  summary: "सारांश",

  // Concept Card
  mastered: "महारत हासिल",
  inProgress: "प्रगति में",
  notStarted: "शुरू नहीं हुआ",
  fittoWelcome: "नमस्ते! मैं फिट्टो हूँ। '{{concept}}' के बारे में मुझसे कुछ भी पूछें।",
  askQuestionPlaceholder: "इस अवधारणा के बारे में एक प्रश्न पूछें...",
  submitQuestion: "प्रश्न सबमिट करें",
  markAsUnderstood: "मैं यह समझ गया, अभ्यास पर जाएं",
  stemConnection: "वास्तविक-विश्व कनेक्शन (STEM)",
  visualDiagram: "दृश्य आरेख",
  visualContext: "दृश्य संदर्भ",
  aiDrawingDiagram: "AI आपके लिए एक आरेख बना रहा है...",
  practiceThisConcept: "इस अवधारणा का अभ्यास करें",
  askFitto: "फिट्टो से पूछें, आपका AI मेंटर",

  // Quiz & Exercises
  backToLesson: "पाठ पर वापस जाएं",
  adaptiveQuiz: "अनुकूली प्रश्नोत्तरी",
  question: "प्रश्न",
  testingConcept: "अवधारणा का परीक्षण",
  previous: "पिछला",
  next: "अगला",
  finishQuiz: "प्रश्नोत्तरी समाप्त करें",
  quizResults: "प्रश्नोत्तरी के परिणाम",
  chapter: "अध्याय",
  reviewAnswers: "अपने उत्तरों की समीक्षा करें",
  yourAnswer: "आपका उत्तर",
  notAnswered: "उत्तर नहीं दिया गया",
  correctAnswerLabel: "सही उत्तर",
  exerciseSummary: "अभ्यास पूरा हुआ!",
  yourScore: "आपका स्कोर",
  close: "बंद करें",
  generatingExercises: "बनाया जा रहा है...",
  generateExercises: "अभ्यास प्रश्न उत्पन्न करें",
  correct: "सही!",
  incorrect: "ठीक नहीं!",
  finishPractice: "समाप्त करें",
  nextQuestion: "अगला प्रश्न",
  missionComplete: "मिशन पूरा हुआ!",
  greatWork: "बहुत बढ़िया काम! इसे जारी रखें।",

  // Diagnostic Test
  preparingDiagnosticTest: "आपका नैदानिक परीक्षण तैयार किया जा रहा है...",
  testGenerationError: "परीक्षण उत्पन्न नहीं किया जा सका।",
  couldNotCreateTest: "परीक्षण नहीं बनाया जा सका",
  backToSubjects: "विषयों पर वापस जाएं",
  testComplete: "परीक्षण पूरा हुआ!",
  youScored: "आपने {{total}} में से {{score}} अंक प्राप्त किए।",
  ourRecommendation: "हमारी सिफारिश",
  diagnosticResultHigh: "आपकी {{subject}} में एक मजबूत नींव है! हम आपको चुनौती देने के लिए '{{chapter}}' अध्याय के आसपास शुरू करने का सुझाव देते हैं।",
  diagnosticResultMid: "आपको मूल बातों की अच्छी समझ है! पहले अध्याय, '{{chapter}}' से शुरू करना आपके ज्ञान को मजबूत करने का एक शानदार तरीका है।",
  diagnosticResultLow: "कोई बात नहीं! एक सुपर मजबूत नींव बनाने के लिए सबसे अच्छी जगह '{{chapter}}' से शुरुआत करना है।",
  diagnosticTestFor: "के लिए नैदानिक परीक्षण",
  
  // Teacher/Parent Dashboards
  backToRoleSelection: "भूमिका चयन पर वापस जाएं",
  teacherDashboard: "शिक्षक डैशबोर्ड",
  teacherDashboardPrompt: "छात्र की प्रगति देखें और शिक्षण उपकरणों तक पहुंचें।",
  parentDashboard: "अभिभावक डैशबोर्ड",
  parentDashboardPrompt: "यहाँ आपके बच्चे की सीखने की यात्रा का एक सिंहावलोकन है।",
  accessQuestionBank: "प्रश्न बैंक",
  curriculumGenerator: "पाठ्यक्रम जेनरेटर",
  performance: "प्रदर्शन",
  studyPatterns: "अध्ययन पैटर्न",
  studentQuestions: "छात्र प्रश्न",
  aiReports: "AI रिपोर्ट",
  practiceOn: "{{context}} पर अभ्यास करें",
  quizType: "प्रश्नोत्तरी",
  noPerformanceData: "अभी तक कोई प्रदर्शन डेटा दर्ज नहीं किया गया है।",
  weeklyActivity: "साप्ताहिक गतिविधि",
  performanceBySubject: "विषय के अनुसार प्रदर्शन",
  learningStyle: "सीखने की शैली",
  quizzesTaken: "ली गई प्रश्नोत्तरी",
  practiceSessions: "अभ्यास सत्र",
  lessActivity: "कम",
  moreActivity: "अधिक",
  errorFetchingQuestions: "छात्र के प्रश्न लाने में त्रुटि।",
  fittoResponseTitle: "फिट्टो की प्रतिक्रिया",
  modelAnswer: "AI-सुझाया गया मॉडल उत्तर",
  pedagogicalNotes: "शिक्षक के लिए शैक्षणिक नोट्स",
  analyzing: "विश्लेषण हो रहा है",
  getAIAnswerSuggestion: "AI विश्लेषण प्राप्त करें",
  noQuestionsSubmitted: "इस छात्र ने अभी तक कोई प्रश्न प्रस्तुत नहीं किया है।",
  generatingReport: "रिपोर्ट तैयार हो रही है...",
  generateAnalysisReport: "AI विश्लेषण रिपोर्ट तैयार करें",
  assigningSheet: "शीट तैयार हो रही है...",
  assignPracticeSheet: "AI-जनित अभ्यास शीट असाइन करें",
  noPerformanceDataError: "कमजोर क्षेत्र की पहचान के लिए कोई प्रदर्शन डेटा उपलब्ध नहीं है।",
  aiGeneratedReport: "AI-जनित रिपोर्ट",
  loadedFromDB: "डेटाबेस से लोड किया गया",
  feedbackOnReport: "क्या यह रिपोर्ट सहायक थी?",
  helpUsImprove: "आपकी प्रतिक्रिया हमें AI को बेहतर बनाने में मदद करती है।",
  commentOptional: "वैकल्पिक टिप्पणी...",
  submitFeedback: "प्रतिक्रिया सबमिट करें",
  feedbackThanks: "आपकी प्रतिक्रिया के लिए धन्यवाद!",
  practiceSheet: "व्यक्तिगत अभ्यास शीट",

  // Personalized Path
  craftingYourPath: "आपका व्यक्तिगत मिशन तैयार किया जा रहा है...",
  aiReasoning: "AI तर्क:",
  errorCraftingPathTitle: "आपका पथ बनाने में त्रुटि",
  errorCraftingPathBody: "आपका अगला मिशन उत्पन्न करते समय हमें एक समस्या का सामना करना पड़ा। कृपया पुनः प्रयास करें।",
  retryButton: "पुनः प्रयास करें",
  yourNextMission: "आपका अगला मिशन",
  missionType_ACADEMIC_REVIEW: "शैक्षणिक समीक्षा",
  missionType_ACADEMIC_PRACTICE: "शैक्षणिक अभ्यास",
  missionType_ACADEMIC_NEW: "नया शैक्षणिक विषय",
  missionType_IQ_EXERCISE: "IQ चुनौती",
  missionType_EQ_EXERCISE: "EQ चुनौती",
  todaysTask: "आज का कार्य",
  academicQuestion: "शैक्षणिक प्रश्न",
  iqChallenge: "IQ चुनौती",
  eqChallenge: "EQ चुनौती",
  bestResponse: "सर्वश्रेष्ठ प्रतिक्रिया",
  
  // Privacy Policy
  privacyPolicyTitle: "गोपनीयता नीति",
  privacyIntro: "आपकी गोपनीयता हमारे लिए महत्वपूर्ण है। यह नीति बताती है कि हम कौन सी जानकारी एकत्र करते हैं और बेहतर सीखने का अनुभव प्रदान करने के लिए हम इसका उपयोग कैसे करते हैं।",
  whatInfoWeCollectTitle: "1. हम कौन सी जानकारी एकत्र करते हैं",
  whatInfoWeCollectContent: "हम आपके द्वारा प्रदान की गई जानकारी एकत्र करते हैं, जैसे आपका नाम, कक्षा और ईमेल। हम आपके सीखने को व्यक्तिगत बनाने के लिए क्विज़ स्कोर और प्रगति जैसे प्रदर्शन डेटा भी एकत्र करते हैं।",
  howWeUseInfoTitle: "2. हम आपकी जानकारी का उपयोग कैसे करते हैं",
  howWeUseInfoContent: "आपकी जानकारी का उपयोग हमारे अनुकूली शिक्षण इंजन को शक्ति देने, व्यक्तिगत प्रतिक्रिया प्रदान करने और शिक्षकों/अभिभावकों को प्रगति को ट्रैक करने के लिए किया जाता है। हम आपका डेटा नहीं बेचते हैं।",
  infoSafetyTitle: "3. सूचना सुरक्षा",
  infoSafetyContent: "हम आपकी जानकारी को अनधिकृत पहुंच से बचाने के लिए उद्योग-मानक सुरक्षा उपायों का उपयोग करते हैं।",
  yourChoicesTitle: "4. आपके विकल्प",
  yourChoicesContent: "आप किसी भी समय अपनी खाता जानकारी की समीक्षा और अद्यतन कर सकते हैं। आप हमसे संपर्क करके खाता हटाने का अनुरोध भी कर सकते हैं।",
  changesToPolicyTitle: "5. इस नीति में परिवर्तन",
  changesToPolicyContent: "हम समय-समय पर इस नीति को अद्यतन कर सकते हैं। हम आपको किसी भी महत्वपूर्ण परिवर्तन के बारे में सूचित करेंगे।",
  contactUsTitle: "6. हमसे संपर्क करें",
  contactUsContent: "यदि इस नीति के बारे में आपके कोई प्रश्न हैं, तो कृपया हमसे privacy@alfanumrik.com पर संपर्क करें।",

  // Question Bank
  mcq: "MCQ",
  shortanswer: "लघु उत्तर",
  longanswer: "दीर्घ उत्तर",
  remembering: "स्मरण",
  understanding: "समझ",
  applying: "आवेदन",
  analyzing: "विश्लेषण",
  evaluating: "मूल्यांकन",
  creating: "निर्माण",
  competencyBased: "योग्यता-आधारित",
  previousYearQuestion: "पिछले वर्ष का प्रश्न",
  questionBankTitle: "AI-संचालित प्रश्न बैंक",
  questionBankPrompt: "किसी भी अध्याय के लिए प्रश्नों का एक विविध सेट उत्पन्न करें, जो CBSE मानकों और ब्लूम के वर्गीकरण के साथ संरेखित हो।",
  generatingQuestions: "प्रश्न उत्पन्न हो रहे हैं...",
  generateQuestions: "प्रश्न उत्पन्न करें",
  noQuestionsGenerated: "AI ने इस विषय के लिए कोई प्रश्न उत्पन्न नहीं किया। कृपया पुनः प्रयास करें या अपने चयन को परिष्कृत करें।",
  markingScheme: "अंकन योजना",
  selectChapterPlaceholder: "एक अध्याय चुनें",

  // Curriculum Generator
  curriculumGeneratorPrompt: "किसी भी विषय और कक्षा के लिए एक व्यापक, NEP-संरेखित पाठ्यक्रम की रूपरेखा तैयार करें, और इसे SQL स्क्रिप्ट के रूप में निर्यात करें।",
  generatingOutline: "रूपरेखा तैयार हो रही है...",
  generateOutline: "पाठ्यक्रम की रूपरेखा तैयार करें",
  downloadAsSql: "SQL के रूप में डाउनलोड करें",
  validateCurriculum: "AI से सत्यापित करें",
  validatingCurriculum: "पाठ्यक्रम का सत्यापन हो रहा है...",
  noOutlineGenerated: "AI इस विषय के लिए पाठ्यक्रम की रूपरेखा तैयार नहीं कर सका।",
  validationError: "सत्यापन के दौरान एक त्रुटि हुई।",
  qualityReportTitle: "AI पाठ्यक्रम गुणवत्ता रिपोर्ट",
};

const hiCurriculumTranslations: Record<string, string> = {
  // Grades
  'Grade 1': 'कक्षा 1',
  'Starting the journey of learning.': 'सीखने की यात्रा की शुरुआत।',
  'Grade 2': 'कक्षा 2',
  'Building foundational skills.': 'बुनियादी कौशल का निर्माण।',
  'Grade 3': 'कक्षा 3',
  'Exploring new concepts.': 'नई अवधारणाओं की खोज।',
  'Grade 4': 'कक्षा 4',
  'Developing deeper understanding.': 'गहरी समझ विकसित करना।',
  'Grade 5': 'कक्षा 5',
  'Foundation building for young learners.': 'युवा शिक्षार्थियों के लिए नींव का निर्माण।',
  'Grade 6': 'कक्षा 6',
  'Transitioning to complex subjects.': 'जटिल विषयों की ओर संक्रमण।',
  'Grade 7': 'कक्षा 7',
  'Building on core concepts.': 'मुख्य अवधारणाओं पर निर्माण।',
  'Grade 8': 'कक्षा 8',
  'Intermediate concepts for growing minds.': 'बढ़ते दिमाग के लिए मध्यवर्ती अवधारणाएँ।',
  'Grade 9': 'कक्षा 9',
  'Preparing for secondary examinations.': 'माध्यमिक परीक्षाओं की तैयारी।',
  'Grade 10': 'कक्षा 10',
  'Advanced topics for high school students.': 'हाई स्कूल के छात्रों के लिए उन्नत विषय।',
  'Grade 11 (Science)': 'कक्षा 11 (विज्ञान)',
  'Specialization in scientific studies.': 'वैज्ञानिक अध्ययन में विशेषज्ञता।',
  'Grade 11 (Commerce)': 'कक्षा 11 (वाणिज्य)',
  'Foundations of business and finance.': 'व्यापार और वित्त की नींव।',
  'Grade 11 (Humanities)': 'कक्षा 11 (मानविकी)',
  'Exploring society, history, and culture.': 'समाज, इतिहास और संस्कृति की खोज।',
  'Grade 12 (Science)': 'कक्षा 12 (विज्ञान)',
  'Advanced studies for competitive exams.': 'प्रतियोगी परीक्षाओं के लिए उन्नत अध्ययन।',
  'Grade 12 (Commerce)': 'कक्षा 12 (वाणिज्य)',
  'Mastering commerce and financial literacy.': 'वाणिज्य और वित्तीय साक्षरता में महारत हासिल करना।',
  'Grade 12 (Humanities)': 'कक्षा 12 (मानविकी)',
  'In-depth analysis of human society.': 'मानव समाज का गहन विश्लेषण।',
  
  // Subjects
  'English': 'अंग्रेज़ी',
  'Hindi': 'हिन्दी',
  'Mathematics': 'गणित',
  'EVS': 'ईवीएस',
  'Science': 'विज्ञान',
  'Social Studies': 'सामाजिक अध्ययन',
  'History': 'इतिहास',
  'Geography': 'भूगोल',
  'Political Science': 'राजनीति विज्ञान',
  'Economics': 'अर्थशास्त्र',
  'Computer Science': 'कंप्यूटर विज्ञान',
  'Physics': 'भौतिकी',
  'Chemistry': 'रसायन विज्ञान',
  'Biology': 'जीव विज्ञान',
  'Accountancy': 'लेखाकर्म',
  'Business Studies': 'व्यावसायिक अध्ययन',
  'Sociology': 'समाजशास्त्र',
  'Physical Education': 'शारीरिक शिक्षा',
  'Robotics & AI': 'रोबोटिक्स और एआई',
  'Robotics': 'रोबोटिक्स',
  'AI and Machine Learning': 'एआई और मशीन लर्निंग',

  // Sample Chapters (to demonstrate translation)
  'The Alphabet & Phonics': 'वर्णमाला और ध्वन्यात्मकता',
  'Vowels and Consonants': 'स्वर और व्यंजन',
  'Numbers up to 20': '20 तक की संख्याएँ',
  'Shapes and Space': 'आकृतियाँ और स्थान',
  'Knowing Our Numbers': 'हमारी संख्याओं को जानना',
  'Food: Where Does It Come From?': 'भोजन: यह कहाँ से आता है?',
  'The Earth in the Solar System': 'सौर मंडल में पृथ्वी',
  'Understanding Diversity': 'विविधता को समझना',
  'Number Systems': 'संख्या प्रणाली',
  'Matter in Our Surroundings': 'हमारे आसपास के पदार्थ',
  'The French Revolution': 'फ्रांसीसी क्रांति',
  'Real Numbers': 'वास्तविक संख्याएं',
  'Chemical Reactions and Equations': 'रासायनिक अभिक्रियाएं एवं समीकरण',
  'The Rise of Nationalism in Europe': 'यूरोप में राष्ट्रवाद का उदय',
  'Physical World': 'भौतिक जगत',
  'Some Basic Concepts of Chemistry': 'रसायन विज्ञान की कुछ मूल अवधारणाएँ',
  'Sets': 'समुच्चय',
  'The Living World': 'जीव जगत',
  'Introduction to Accounting': 'लेखांकन का परिचय',
  'From the Beginning of Time': 'समय की शुरुआत से',
  'Electric Charges and Fields': 'विद्युत आवेश तथा क्षेत्र',
  'The Solid State': 'ठोस अवस्था',
  'Relations and Functions': 'संबंध एवं फलन',
  'Reproduction in Organisms': 'जीवों में जनन',
  'Thermodynamics': 'ऊष्मागतिकी',
  'Polynomials': 'बहुपद',
  'Coordinate Geometry': 'निर्देशांक ज्यामिति',
  'Triangles': 'त्रिभुज',
  'Circles': 'वृत्त',
  'Constructions': 'रचनाएँ',
  'Surface Areas and Volumes': 'पृष्ठीय क्षेत्रफल और आयतन',
  'Statistics': 'सांख्यिकी',
  'Probability': 'प्रायिकता',
};

const translations: Record<string, Record<string, string>> = {
  en: enTranslations,
  hi: hiTranslations,
};

const curriculumTranslations: Record<string, Record<string, string>> = {
  hi: hiCurriculumTranslations,
  en: {} // English curriculum keys are the same as the source, so no mapping needed.
};

interface LanguageContextType {
  language: string;
  setLanguage: (language: string) => void;
  t: (key: string, replacements?: { [key: string]: string | number }) => string;
  tCurriculum: (key: string) => string;
}

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const LanguageProvider = ({ children }: { children: ReactNode }) => {
  const [language, setLanguageState] = useState(() => {
    return localStorage.getItem('alfanumrik-language') || 'en';
  });

  useEffect(() => {
    localStorage.setItem('alfanumrik-language', language);
    document.documentElement.lang = language;
  }, [language]);

  const setLanguage = (lang: string) => {
    setLanguageState(lang);
  };

  const t = (key: string, replacements?: { [key: string]: string | number }) => {
    let translation = translations[language]?.[key] || translations['en']?.[key] || key;
    if (replacements) {
      Object.keys(replacements).forEach(rKey => {
        translation = translation.replace(`{{${rKey}}}`, String(replacements[rKey]));
      });
    }
    return translation;
  };

  const tCurriculum = (key: string) => {
    return curriculumTranslations[language]?.[key] || key;
  };


  return (
    <LanguageContext.Provider value={{ language, setLanguage, t, tCurriculum }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = (): LanguageContextType => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error('useLanguage must be used within a LanguageProvider');
  }
  return context;
};
