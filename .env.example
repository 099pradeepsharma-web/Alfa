# Alfanumrik Enterprise Environment Configuration
# Copy this file to .env.local and fill in your actual values

# ===========================================
# CORE APPLICATION SETTINGS
# ===========================================

# AI Content Generation (Primary)
VITE_GEMINI_API_KEY=your_gemini_api_key_here

# Feature Flags
VITE_ENABLE_CLOUD_SYNC=true
VITE_PILOT_MODE=true
VITE_DEBUG_MODE=false

# Application
NODE_ENV=development
VITE_APP_NAME=Alfanumrik
VITE_APP_VERSION=0.2.0

# ===========================================
# SUPABASE CONFIGURATION
# ===========================================

VITE_SUPABASE_URL=https://your-project-id.supabase.co
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key # Server-side only

# Database Encryption (for LMS credentials)
KMS_KEY=your_256_bit_random_key_for_encryption_never_share

# ===========================================
# LMS INTEGRATIONS (ENTERPRISE)
# ===========================================

# Google Classroom OAuth
# Setup: Google Cloud Console > APIs & Services > Credentials
GOOGLE_CLIENT_ID=your_google_oauth_client_id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your_google_oauth_client_secret
GOOGLE_REDIRECT_URI=https://your-project-id.supabase.co/functions/v1/lms_oauth_callback

# Canvas LMS OAuth
# Setup: Canvas Admin > Developer Keys > Add Developer Key
CANVAS_BASE_URL=https://your-school.instructure.com
CANVAS_CLIENT_ID=your_canvas_developer_key_id
CANVAS_CLIENT_SECRET=your_canvas_developer_key_secret
CANVAS_REDIRECT_URI=https://your-project-id.supabase.co/functions/v1/lms_oauth_callback

# Moodle Web Services (Token-based, per connection)
# Setup: Moodle Admin > Plugins > Web Services > Enable
# Example values (set per connection in UI):
# MOODLE_BASE_URL=https://your-school.moodle.org
# MOODLE_WS_TOKEN=your_generated_web_services_token

# ===========================================
# AI PROVIDERS (ENTERPRISE SCALE)
# ===========================================

# Primary: Google Gemini (Fast + Quality)
# Already set above: VITE_GEMINI_API_KEY

# Alternative: OpenAI GPT-4/5 (Fallback)
OPENAI_API_KEY=sk-your_openai_api_key
OPENAI_ORG_ID=org-your_organization_id

# Alternative: Anthropic Claude (Quality)
ANTHROPIC_API_KEY=sk-ant-your_anthropic_api_key

# Enterprise: Vertex AI (Google Cloud)
VERTEX_AI_PROJECT_ID=your-gcp-project-id
VERTEX_AI_LOCATION=us-central1
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# Provider Routing Preferences
AI_FAST_PROVIDER=gemini-flash # gemini-flash, gpt-4-turbo, claude-instant
AI_QUALITY_PROVIDER=gemini-pro # gemini-pro, gpt-5, claude-3-opus
AI_FALLBACK_PROVIDER=openai # openai, anthropic

# ===========================================
# COMMUNICATION & NOTIFICATIONS
# ===========================================

# WhatsApp Business API (Parent Notifications)
# Setup: Meta Business > WhatsApp Business Platform
WHATSAPP_BUSINESS_PHONE_ID=your_phone_number_id
WHATSAPP_ACCESS_TOKEN=your_permanent_access_token
WHATSAPP_WEBHOOK_VERIFY_TOKEN=your_webhook_verify_token
WHATSAPP_APP_ID=your_app_id
WHATSAPP_APP_SECRET=your_app_secret

# Email Services
# SendGrid (Recommended)
SENDGRID_API_KEY=SG.your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@alfanumrik.com
SENDGRID_TEMPLATE_ID_WELCOME=d-your_welcome_template_id
SENDGRID_TEMPLATE_ID_PROGRESS=d-your_progress_report_template_id

# SMTP Fallback
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# SMS (India-focused)
# TextLocal (India)
TEXTLOCAL_API_KEY=your_textlocal_api_key
TEXTLOCAL_SENDER_ID=ALFNUM

# Twilio (International)
TWILIO_ACCOUNT_SID=AC_your_account_sid
TWILIO_AUTH_TOKEN=your_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# ===========================================
# PAYMENT PROCESSING (INDIA-FOCUSED)
# ===========================================

# Razorpay (Primary for India)
# Setup: Razorpay Dashboard > Settings > API Keys
RAZORPAY_KEY_ID=rzp_test_your_key_id
RAZORPAY_KEY_SECRET=your_key_secret
RAZORPAY_WEBHOOK_SECRET=your_webhook_secret

# Stripe (International backup)
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ===========================================
# ANALYTICS & MONITORING
# ===========================================

# Google Analytics 4
VITE_GA_TRACKING_ID=G-XXXXXXXXXX

# Mixpanel (User behavior)
VITE_MIXPANEL_TOKEN=your_mixpanel_project_token

# Sentry (Error tracking)
VITE_SENTRY_DSN=https://your-dsn@sentry.io/project-id
SENTRY_AUTH_TOKEN=your_sentry_auth_token
SENTRY_ORG=your-org-slug
SENTRY_PROJECT=alfanumrik

# PostHog (Product analytics)
VITE_POSTHOG_KEY=phc_your_posthog_key
VITE_POSTHOG_HOST=https://app.posthog.com

# ===========================================
# ENTERPRISE DEPLOYMENT
# ===========================================

# Custom Domains & SSL
CUSTOM_DOMAIN_PROVIDER=cloudflare # cloudflare, aws_route53, vercel
CLOUDFLARE_API_TOKEN=your_cf_api_token
CLOUDFLARE_ZONE_ID=your_zone_id

# CDN & Storage
AWS_ACCESS_KEY_ID=AKIA_your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_access_key
AWS_REGION=ap-south-1
AWS_S3_BUCKET=alfanumrik-assets

# ===========================================
# SECURITY & COMPLIANCE
# ===========================================

# Session Management
JWT_SECRET=your_super_secret_jwt_key_min_32_chars
SESSION_SECRET=your_session_secret_key_different_from_jwt

# Rate Limiting (per user)
RATE_LIMIT_AI_REQUESTS_PER_HOUR=100
RATE_LIMIT_LMS_SYNC_PER_DAY=10
RATE_LIMIT_LOGIN_ATTEMPTS_PER_HOUR=5

# Content Filtering
VITE_ENABLE_CONTENT_FILTER=true
CONTENT_FILTER_API_KEY=your_content_moderation_key

# ===========================================
# DEVELOPMENT & TESTING
# ===========================================

# Local Development
VITE_API_BASE_URL=http://localhost:5173
VITE_SUPABASE_LOCAL_URL=http://localhost:54321

# Test Data
VITE_TEST_USER_EMAIL=test@demoschool.edu
VITE_TEST_ORG_ID=00000000-0000-0000-0000-000000000001
VITE_ENABLE_DEMO_DATA=true

# ===========================================
# PRODUCTION OVERRIDES
# ===========================================

# Production Security
VITE_PILOT_MODE_PROD=false
VITE_DEBUG_MODE_PROD=false
VITE_ENABLE_CLOUD_SYNC_PROD=true
VITE_FORCE_HTTPS_PROD=true

# ===========================================
# SETUP CHECKLIST:
# ===========================================
# □ 1. Copy: cp .env.example .env.local
# □ 2. Get Gemini API key: https://ai.studio/
# □ 3. Create Supabase project: https://app.supabase.com
# □ 4. Run database schemas in SQL Editor
# □ 5. Configure OAuth providers (Google/Canvas)
# □ 6. Test authentication flow
# □ 7. Deploy edge functions
# □ 8. Configure payment processing
# □ 9. Set up monitoring and alerts
# □ 10. Launch pilot with test school

# ===========================================
# SECURITY WARNINGS:
# ===========================================
# ⚠️  NEVER commit .env.local to version control
# ⚠️  All VITE_ variables are PUBLIC (visible in browser)
# ⚠️  Keep server secrets (without VITE_) in secure deployment environment
# ⚠️  Rotate API keys regularly (monthly for production)
# ⚠️  Monitor usage to prevent unexpected charges